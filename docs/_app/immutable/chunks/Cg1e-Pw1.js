import"./Bzak7iHL.js";import{ap as rr,f as sr,aq as w,K as zt,ad as ca,g as e,s as n,aw as be,i as _,o as u,ar as d,r as c,j as F,k as m,l as nr,as as De,au as Ta,at as Ba,aO as Cr,av as _a,ax as Ea}from"./6QfFowuy.js";import{o as or,a as j,b as Sr}from"./DWQsb6ku.js";import{p as tt,i as x,b as ya}from"./DVQw_HwI.js";import{c as Rr,s as Ua,t as Er,l as jr,a as Ar,m as Pr,b as ka,r as Oa,d as Mr,f as Ga,p as Fr,h as Lr,k as ua,n as va,i as Kt,j as lr,o as wt,q as et,u as Ma,v as Ia,w as Fa,x as Wa,y as Ca,z as Tr}from"./Dsj1Loz4.js";import{a as Dr,r as Ft,s as Mt,b as Te,c as qa}from"./D02pvyNW.js";import{b as Jt}from"./BY3Tcu16.js";import{g as Na}from"./ay0fp_w4.js";function $r(t,a){let r,s;if(a===void 0)for(const o of t)o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)));else{let o=-1;for(let l of t)(l=a(l,++o,t))!=null&&(r===void 0?l>=l&&(r=s=l):(r>l&&(r=l),s<l&&(s=l)))}return[r,s]}function Hr(t,a){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),s=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(s),r.body.appendChild(o),a&&(s.href=a),o.href=t,o.href}const Br=(()=>{let t=0;const a=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${a()}${t}`)})();function Ot(t){const a=[];for(let r=0,s=t.length;r<s;r++)a.push(t[r]);return a}let la=null;function ir(t={}){return la||(t.includeStyleProperties?(la=t.includeStyleProperties,la):(la=Ot(window.getComputedStyle(document.documentElement)),la))}function Sa(t,a){const s=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(a);return s?parseFloat(s.replace("px","")):0}function Ur(t){const a=Sa(t,"border-left-width"),r=Sa(t,"border-right-width");return t.clientWidth+a+r}function Or(t){const a=Sa(t,"border-top-width"),r=Sa(t,"border-bottom-width");return t.clientHeight+a+r}function cr(t,a={}){const r=a.width||Ur(t),s=a.height||Or(t);return{width:r,height:s}}function Gr(){let t,a;try{a=process}catch{}const r=a&&a.env?a.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Ge=16384;function Ir(t){(t.width>Ge||t.height>Ge)&&(t.width>Ge&&t.height>Ge?t.width>t.height?(t.height*=Ge/t.width,t.width=Ge):(t.width*=Ge/t.height,t.height=Ge):t.width>Ge?(t.height*=Ge/t.width,t.width=Ge):(t.width*=Ge/t.height,t.height=Ge))}function Wr(t,a={}){return t.toBlob?new Promise(r=>{t.toBlob(r,a.type?a.type:"image/png",a.quality?a.quality:1)}):new Promise(r=>{const s=window.atob(t.toDataURL(a.type?a.type:void 0,a.quality?a.quality:void 0).split(",")[1]),o=s.length,l=new Uint8Array(o);for(let v=0;v<o;v+=1)l[v]=s.charCodeAt(v);r(new Blob([l],{type:a.type?a.type:"image/png"}))})}function Ra(t){return new Promise((a,r)=>{const s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>a(s))})},s.onerror=r,s.crossOrigin="anonymous",s.decoding="async",s.src=t})}async function qr(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(a=>`data:image/svg+xml;charset=utf-8,${a}`)}async function Nr(t,a,r){const s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttribute("width",`${a}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${a} ${r}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),o.appendChild(l),l.appendChild(t),qr(o)}const $e=(t,a)=>{if(t instanceof a)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===a.name||$e(r,a)};function Vr(t){const a=t.getPropertyValue("content");return`${t.cssText} content: '${a.replace(/'|"/g,"")}';`}function Yr(t,a){return ir(a).map(r=>{const s=t.getPropertyValue(r),o=t.getPropertyPriority(r);return`${r}: ${s}${o?" !important":""};`}).join(" ")}function Xr(t,a,r,s){const o=`.${t}:${a}`,l=r.cssText?Vr(r):Yr(r,s);return document.createTextNode(`${o}{${l}}`)}function Va(t,a,r,s){const o=window.getComputedStyle(t,r),l=o.getPropertyValue("content");if(l===""||l==="none")return;const v=Br();try{a.className=`${a.className} ${v}`}catch{return}const i=document.createElement("style");i.appendChild(Xr(v,r,o,s)),a.appendChild(i)}function Jr(t,a,r){Va(t,a,":before",r),Va(t,a,":after",r)}const Ya="application/font-woff",Xa="image/jpeg",Kr={woff:Ya,woff2:Ya,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Xa,jpeg:Xa,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Qr(t){const a=/\.([^./]*?)$/g.exec(t);return a?a[1]:""}function $a(t){const a=Qr(t).toLowerCase();return Kr[a]||""}function Zr(t){return t.split(/,/)[1]}function Da(t){return t.search(/^(data:)/)!==-1}function es(t,a){return`data:${a};base64,${t}`}async function ur(t,a,r){const s=await fetch(t,a);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const o=await s.blob();return new Promise((l,v)=>{const i=new FileReader;i.onerror=v,i.onloadend=()=>{try{l(r({res:s,result:i.result}))}catch(f){v(f)}},i.readAsDataURL(o)})}const La={};function ts(t,a,r){let s=t.replace(/\?.*/,"");return r&&(s=t),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),a?`[${a}]${s}`:s}async function Ha(t,a,r){const s=ts(t,a,r.includeQueryParams);if(La[s]!=null)return La[s];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let o;try{const l=await ur(t,r.fetchRequestInit,({res:v,result:i})=>(a||(a=v.headers.get("Content-Type")||""),Zr(i)));o=es(l,a)}catch(l){o=r.imagePlaceholder||"";let v=`Failed to fetch resource: ${t}`;l&&(v=typeof l=="string"?l:l.message),v&&console.warn(v)}return La[s]=o,o}async function as(t){const a=t.toDataURL();return a==="data:,"?t.cloneNode(!1):Ra(a)}async function rs(t,a){if(t.currentSrc){const l=document.createElement("canvas"),v=l.getContext("2d");l.width=t.clientWidth,l.height=t.clientHeight,v==null||v.drawImage(t,0,0,l.width,l.height);const i=l.toDataURL();return Ra(i)}const r=t.poster,s=$a(r),o=await Ha(r,s,a);return Ra(o)}async function ss(t,a){var r;try{if(!((r=t==null?void 0:t.contentDocument)===null||r===void 0)&&r.body)return await ja(t.contentDocument.body,a,!0)}catch{}return t.cloneNode(!1)}async function ns(t,a){return $e(t,HTMLCanvasElement)?as(t):$e(t,HTMLVideoElement)?rs(t,a):$e(t,HTMLIFrameElement)?ss(t,a):t.cloneNode(vr(t))}const os=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",vr=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function ls(t,a,r){var s,o;if(vr(a))return a;let l=[];return os(t)&&t.assignedNodes?l=Ot(t.assignedNodes()):$e(t,HTMLIFrameElement)&&(!((s=t.contentDocument)===null||s===void 0)&&s.body)?l=Ot(t.contentDocument.body.childNodes):l=Ot(((o=t.shadowRoot)!==null&&o!==void 0?o:t).childNodes),l.length===0||$e(t,HTMLVideoElement)||await l.reduce((v,i)=>v.then(()=>ja(i,r)).then(f=>{f&&a.appendChild(f)}),Promise.resolve()),a}function is(t,a,r){const s=a.style;if(!s)return;const o=window.getComputedStyle(t);o.cssText?(s.cssText=o.cssText,s.transformOrigin=o.transformOrigin):ir(r).forEach(l=>{let v=o.getPropertyValue(l);l==="font-size"&&v.endsWith("px")&&(v=`${Math.floor(parseFloat(v.substring(0,v.length-2)))-.1}px`),$e(t,HTMLIFrameElement)&&l==="display"&&v==="inline"&&(v="block"),l==="d"&&a.getAttribute("d")&&(v=`path(${a.getAttribute("d")})`),s.setProperty(l,v,o.getPropertyPriority(l))})}function cs(t,a){$e(t,HTMLTextAreaElement)&&(a.innerHTML=t.value),$e(t,HTMLInputElement)&&a.setAttribute("value",t.value)}function us(t,a){if($e(t,HTMLSelectElement)){const r=a,s=Array.from(r.children).find(o=>t.value===o.getAttribute("value"));s&&s.setAttribute("selected","")}}function vs(t,a,r){return $e(a,Element)&&(is(t,a,r),Jr(t,a,r),cs(t,a),us(t,a)),a}async function ds(t,a){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const s={};for(let l=0;l<r.length;l++){const i=r[l].getAttribute("xlink:href");if(i){const f=t.querySelector(i),C=document.querySelector(i);!f&&C&&!s[i]&&(s[i]=await ja(C,a,!0))}}const o=Object.values(s);if(o.length){const l="http://www.w3.org/1999/xhtml",v=document.createElementNS(l,"svg");v.setAttribute("xmlns",l),v.style.position="absolute",v.style.width="0",v.style.height="0",v.style.overflow="hidden",v.style.display="none";const i=document.createElementNS(l,"defs");v.appendChild(i);for(let f=0;f<o.length;f++)i.appendChild(o[f]);t.appendChild(v)}return t}async function ja(t,a,r){return!r&&a.filter&&!a.filter(t)?null:Promise.resolve(t).then(s=>ns(s,a)).then(s=>ls(t,s,a)).then(s=>vs(t,s,a)).then(s=>ds(s,a))}const dr=/url\((['"]?)([^'"]+?)\1\)/g,ps=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,fs=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ms(t){const a=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${a})(['"]?\\))`,"g")}function hs(t){const a=[];return t.replace(dr,(r,s,o)=>(a.push(o),r)),a.filter(r=>!Da(r))}async function gs(t,a,r,s,o){try{const l=r?Hr(a,r):a,v=$a(a);let i;return o||(i=await Ha(l,v,s)),t.replace(ms(a),`$1${i}$3`)}catch{}return t}function _s(t,{preferredFontFormat:a}){return a?t.replace(fs,r=>{for(;;){const[s,,o]=ps.exec(r)||[];if(!o)return"";if(o===a)return`src: ${s};`}}):t}function pr(t){return t.search(dr)!==-1}async function fr(t,a,r){if(!pr(t))return t;const s=_s(t,r);return hs(s).reduce((l,v)=>l.then(i=>gs(i,v,a,r)),Promise.resolve(s))}async function ia(t,a,r){var s;const o=(s=a.style)===null||s===void 0?void 0:s.getPropertyValue(t);if(o){const l=await fr(o,null,r);return a.style.setProperty(t,l,a.style.getPropertyPriority(t)),!0}return!1}async function ys(t,a){await ia("background",t,a)||await ia("background-image",t,a),await ia("mask",t,a)||await ia("-webkit-mask",t,a)||await ia("mask-image",t,a)||await ia("-webkit-mask-image",t,a)}async function bs(t,a){const r=$e(t,HTMLImageElement);if(!(r&&!Da(t.src))&&!($e(t,SVGImageElement)&&!Da(t.href.baseVal)))return;const s=r?t.src:t.href.baseVal,o=await Ha(s,$a(s),a);await new Promise((l,v)=>{t.onload=l,t.onerror=a.onImageErrorHandler?(...f)=>{try{l(a.onImageErrorHandler(...f))}catch(C){v(C)}}:v;const i=t;i.decode&&(i.decode=l),i.loading==="lazy"&&(i.loading="eager"),r?(t.srcset="",t.src=o):t.href.baseVal=o})}async function ws(t,a){const s=Ot(t.childNodes).map(o=>mr(o,a));await Promise.all(s).then(()=>t)}async function mr(t,a){$e(t,Element)&&(await ys(t,a),await bs(t,a),await ws(t,a))}function zs(t,a){const{style:r}=t;a.backgroundColor&&(r.backgroundColor=a.backgroundColor),a.width&&(r.width=`${a.width}px`),a.height&&(r.height=`${a.height}px`);const s=a.style;return s!=null&&Object.keys(s).forEach(o=>{r[o]=s[o]}),t}const Ja={};async function Ka(t){let a=Ja[t];if(a!=null)return a;const s=await(await fetch(t)).text();return a={url:t,cssText:s},Ja[t]=a,a}async function Qa(t,a){let r=t.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,l=(r.match(/url\([^)]+\)/g)||[]).map(async v=>{let i=v.replace(s,"$1");return i.startsWith("https://")||(i=new URL(i,t.url).href),ur(i,a.fetchRequestInit,({result:f})=>(r=r.replace(v,`url(${f})`),[v,f]))});return Promise.all(l).then(()=>r)}function Za(t){if(t==null)return[];const a=[],r=/(\/\*[\s\S]*?\*\/)/gi;let s=t.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const f=o.exec(s);if(f===null)break;a.push(f[0])}s=s.replace(o,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,v="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(v,"gi");for(;;){let f=l.exec(s);if(f===null){if(f=i.exec(s),f===null)break;l.lastIndex=i.lastIndex}else i.lastIndex=l.lastIndex;a.push(f[0])}return a}async function xs(t,a){const r=[],s=[];return t.forEach(o=>{if("cssRules"in o)try{Ot(o.cssRules||[]).forEach((l,v)=>{if(l.type===CSSRule.IMPORT_RULE){let i=v+1;const f=l.href,C=Ka(f).then(X=>Qa(X,a)).then(X=>Za(X).forEach(re=>{try{o.insertRule(re,re.startsWith("@import")?i+=1:o.cssRules.length)}catch(at){console.error("Error inserting rule from remote css",{rule:re,error:at})}})).catch(X=>{console.error("Error loading remote css",X.toString())});s.push(C)}})}catch(l){const v=t.find(i=>i.href==null)||document.styleSheets[0];o.href!=null&&s.push(Ka(o.href).then(i=>Qa(i,a)).then(i=>Za(i).forEach(f=>{v.insertRule(f,v.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",l)}}),Promise.all(s).then(()=>(t.forEach(o=>{if("cssRules"in o)try{Ot(o.cssRules||[]).forEach(l=>{r.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${o.href}`,l)}}),r))}function ks(t){return t.filter(a=>a.type===CSSRule.FONT_FACE_RULE).filter(a=>pr(a.style.getPropertyValue("src")))}async function Cs(t,a){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Ot(t.ownerDocument.styleSheets),s=await xs(r,a);return ks(s)}function hr(t){return t.trim().replace(/["']/g,"")}function Ss(t){const a=new Set;function r(s){(s.style.fontFamily||getComputedStyle(s).fontFamily).split(",").forEach(l=>{a.add(hr(l))}),Array.from(s.children).forEach(l=>{l instanceof HTMLElement&&r(l)})}return r(t),a}async function Rs(t,a){const r=await Cs(t,a),s=Ss(t);return(await Promise.all(r.filter(l=>s.has(hr(l.style.fontFamily))).map(l=>{const v=l.parentStyleSheet?l.parentStyleSheet.href:null;return fr(l.cssText,v,a)}))).join(`
`)}async function Es(t,a){const r=a.fontEmbedCSS!=null?a.fontEmbedCSS:a.skipFonts?null:await Rs(t,a);if(r){const s=document.createElement("style"),o=document.createTextNode(r);s.appendChild(o),t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)}}async function js(t,a={}){const{width:r,height:s}=cr(t,a),o=await ja(t,a,!0);return await Es(o,a),await mr(o,a),zs(o,a),await Nr(o,r,s)}async function As(t,a={}){const{width:r,height:s}=cr(t,a),o=await js(t,a),l=await Ra(o),v=document.createElement("canvas"),i=v.getContext("2d"),f=a.pixelRatio||Gr(),C=a.canvasWidth||r,X=a.canvasHeight||s;return v.width=C*f,v.height=X*f,a.skipAutoScale||Ir(v),v.style.width=`${C}`,v.style.height=`${X}`,a.backgroundColor&&(i.fillStyle=a.backgroundColor,i.fillRect(0,0,v.width,v.height)),i.drawImage(l,0,0,v.width,v.height),v}async function Ps(t,a={}){const r=await As(t,a);return await Wr(r)}function Ms(t,a,r,s,o){e(a)&&(t.key==="ArrowDown"?(t.preventDefault(),n(r,Math.min(e(r)+1,e(s).length-1),!0)):t.key==="ArrowUp"?(t.preventDefault(),n(r,Math.max(e(r)-1,-1),!0)):t.key==="Enter"?(t.preventDefault(),e(r)>=0?o(e(s)[e(r)]):e(s).length>0&&o(e(s)[0])):t.key==="Escape"&&n(a,!1))}function Fs(t,a,r,s,o,l,v,i,f){n(a,e(r),!0),n(s,!0),n(o,""),n(l,!1),n(v,!1),n(i,0),n(f,!1)}function Ls(t,a,r){e(a)<e(r).length&&Cr(a)}function Ts(t,a,r,s,o,l,v,i,f,C,X,re,at){document.fullscreenElement?(n(a,!0),setTimeout(()=>{n(a,!1)},5e3)):lr({particleCount:100,spread:70,origin:{y:.6}}),n(r,!1),n(s,!0),o()||n(l,""),n(v,""),n(i,""),n(f,!1),n(C,!1),n(X,!1),n(re,!1),n(at,!1)}function Ds(t,a,r,s,o,l,v,i,f,C,X,re,at,$,te,ie){a()?(n(r,!1),n(s,""),n(o,l()),n(v,l())):(n(r,!1),n(s,""),n(v,"")),n(i,""),n(f,!1),n(C,!1),n(X,!1),n(re,!1),n(at,!1),n($,!1),n(te,0),n(ie,!1)}function $s(t,a,r,s,o,l){if(e(a)){if(t.key==="ArrowDown"){t.preventDefault(),n(r,Math.min(e(r)+1,e(s).length-1),!0);return}else if(t.key==="ArrowUp"){t.preventDefault(),n(r,Math.max(e(r)-1,-1),!0);return}else if(t.key==="Tab"){t.preventDefault(),e(r)>=0?o(e(s)[e(r)]):e(s).length>0&&o(e(s)[0]);return}else if(t.key==="Escape"){n(a,!1);return}}t.key==="Enter"&&(e(a)&&e(r)>=0?o(e(s)[e(r)]):l())}var Hs=_('<div class="celebration svelte-1n4rpba">🎉</div>'),Bs=_('<button class="screenshot-btn svelte-1n4rpba" title="Download screenshot"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1n4rpba"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" class="svelte-1n4rpba"></path><circle cx="12" cy="13" r="4" class="svelte-1n4rpba"></circle></svg></button>'),Us=(t,a,r,s)=>{n(a,e(r),!0),s()},Os=_('<span class="separator svelte-1n4rpba">•</span>'),Gs=_('<button class="option-chip svelte-1n4rpba"> </button> <!>',1),Is=_('<div class="guess-options svelte-1n4rpba"><strong class="svelte-1n4rpba">Choose from:</strong> <div class="options-display svelte-1n4rpba"></div></div>'),Ws=_('<div class="wrong-message svelte-1n4rpba">❌ Wrong! Try again</div>'),qs=_('<div class="correct-message svelte-1n4rpba"> </div>'),Ns=_(' <br class="svelte-1n4rpba"> ',1),Vs=_(' <br class="svelte-1n4rpba"> ',1),Ys=_('<div class="tooltip-rank svelte-1n4rpba"> </div>'),Xs=_('<div class="tooltip svelte-1n4rpba"><div class="tooltip-year svelte-1n4rpba"> </div> <div class="tooltip-name svelte-1n4rpba"> </div> <div class="tooltip-count svelte-1n4rpba"><!></div> <!></div>'),Js=_('<button class="hint-btn svelte-1n4rpba">+ More Letters</button>'),Ks=_('<strong class="svelte-1n4rpba"> </strong> <!>',1),Qs=_('<strong class="svelte-1n4rpba">GUESS MODE</strong>'),Zs=_('<strong class="svelte-1n4rpba"> </strong>'),en=(t,a,r)=>a(e(r)),tn=_("<li> </li>"),an=_('<ul class="suggestions svelte-1n4rpba"></ul>'),rn=_('<div class="autocomplete svelte-1n4rpba"><input type="text" placeholder="Enter a name..." class="name-input search-input svelte-1n4rpba"> <!></div> <button class="hide-btn svelte-1n4rpba">Hide Name & Play</button> <button class="random-btn svelte-1n4rpba">Random Name</button>',1),sn=(t,a,r)=>a(e(r)),nn=_("<li> </li>"),on=_('<ul class="suggestions svelte-1n4rpba"></ul>'),ln=_('<div class="autocomplete svelte-1n4rpba"><input type="text" placeholder="Guess the name..." class="name-input guess-input svelte-1n4rpba"> <!></div> <button class="submit-btn svelte-1n4rpba">Guess Name</button>',1),cn=(t,a)=>n(a,!e(a)),un=(t,a)=>t.key==="Enter"&&a(),vn=_('<div class="option-tag svelte-1n4rpba"> <button class="remove-option svelte-1n4rpba">×</button></div>'),dn=_('<div class="options-list svelte-1n4rpba"></div>'),pn=_('<div class="max-options-note svelte-1n4rpba">Maximum 6 options</div>'),fn=_('<div class="add-options-container svelte-1n4rpba"><div class="add-option-input svelte-1n4rpba"><input type="text" placeholder="Enter a name option..." maxlength="50" class="svelte-1n4rpba"> <button class="svelte-1n4rpba">Add</button></div> <!> <!></div>'),mn=(t,a)=>n(a,!e(a)),hn=(t,a)=>n(a,"All"),gn=(t,a)=>n(a,"F"),_n=(t,a)=>n(a,"M"),yn=(t,a)=>n(a,"raw"),bn=(t,a)=>n(a,"proportion"),wn=_('<div class="chart-controls-container svelte-1n4rpba"><div class="row-controls chart-controls-row svelte-1n4rpba"><div class="sex-buttons svelte-1n4rpba"><button>All</button> <button>Female</button> <button>Male</button></div> <span class="pipe-separator svelte-1n4rpba">|</span> <div class="mode-buttons svelte-1n4rpba"><button>Raw</button> <button>Proportion</button></div></div> <div class="row-controls fullscreen-row svelte-1n4rpba"><button class="fullscreen-btn svelte-1n4rpba"> </button></div></div>'),zn=_('<div><div><button class="reveal-btn svelte-1n4rpba">Reveal Answer</button> <button class="reset-btn svelte-1n4rpba">Reset</button></div></div>'),xn=_('<div><div><button class="toggle-options-btn svelte-1n4rpba"> </button> <!></div> <div><button class="toggle-chart-controls-btn svelte-1n4rpba"> </button> <!></div></div> <!>',1),kn=_('<div class="controls svelte-1n4rpba"><div class="year-slider svelte-1n4rpba"><label for="start-year" class="svelte-1n4rpba"> </label> <input id="start-year" type="range" min="1880" max="2010" class="slider svelte-1n4rpba"></div> <div><!></div> <div class="row-controls input-row search-and-action svelte-1n4rpba"><!></div> <!></div>'),Cn=_(`<div class="fullscreen-wrapper svelte-1n4rpba"><!> <div class="chart-header svelte-1n4rpba"><h2 class="chart-title svelte-1n4rpba"> </h2> <!></div> <!> <div class="wrapper svelte-1n4rpba"><!> <!> <div class="chart-container svelte-1n4rpba"></div> <div class="screenshot-footer svelte-1n4rpba"><div class="footer-text svelte-1n4rpba">Data: U.S. Social Security Administration | Chart: What's That Baby
				Name?</div></div> <!></div> <!></div>`);function er(t,a){sr(a,!0);const r=tt(a,"csvUrl",19,()=>`${Jt}/data/ssa_babynames_filtered.csv`),s=tt(a,"height",3,360),o=tt(a,"defaultName",3,"Emma"),l=tt(a,"startHidden",3,!1),v=tt(a,"startYear",3,1880),i=tt(a,"showControls",3,!0),f=tt(a,"playerMode",3,!1),C=tt(a,"hostMode",3,!1),X=tt(a,"externalNameOptions",19,()=>[]),re=tt(a,"externalLettersRevealed",3,0),at=tt(a,"onStateChange",3,null);let $=w(zt(o())),te=w("All"),ie=w("raw"),Ie=w(zt(typeof v()=="string"?parseInt(v()):v())),Lt=w(!1),ba=be(()=>e(Lt)?50:10),We=be(()=>e(ie)==="proportion"?{top:10,right:10,bottom:30,left:50}:{top:10,right:10,bottom:30,left:35}),qe=w(zt(o())),rt=w(!1),Gt=w(zt([])),dt=w(-1),It=w(!1),Q;const wa=l()===!0||l()==="true";let V=w(zt(wa)),se=w(zt(wa?o():"")),we=w(""),xt=w(!1),st=w(!1),pt=w(!1),Qt=w(zt([])),ft=w(!1),Zt=w(-1),z=w(!1),b=w(""),M=w(!1),R=w(zt([])),G=w(!1),A=w(""),H=w(!1),L=w(1),ce=w(!1),ne=w(!1);ca(()=>{if(C()&&at()){const p=e(V)||e(ne)?e(V)?e(se):e($):"";at()({name:p,isHidden:e(V),nameOptions:e(R),lettersRevealed:e(ce)?e(L):0,isRevealed:e(ne)})}});let Re,fe,ze=w(0),I=[],me=[1880,2026],he=w(zt({show:!1,x:0,y:0,year:0,count:0,rank:0})),kt=[],nt=[],Ct=new Map,St=new Map,Rt,Ne,ot,Tt,ea,Et,Ve,Wt,mt,Ye,Xe,He,lt,Be;const ht=(p,y=!1)=>{if(e(ie)==="proportion")return y?p===0?"0%":p<.01?p.toFixed(3)+"%":p<.1?p.toFixed(2)+"%":p.toFixed(1)+"%":p.toFixed(3)+"%";const S=Math.abs(p),[Y,U]=S>=1e9?[1e9,"B"]:S>=1e6?[1e6,"M"]:S>=1e3?[1e3,"k"]:[1,""],g=p/Y;return(g>=10||Number.isInteger(g)?Math.round(g):Math.round(g*10)/10)+U};or(async()=>{n(Lt,window.innerWidth<=768),window.addEventListener("resize",()=>{n(Lt,window.innerWidth<=768)}),I=(await Rr(r(),g=>{const P=+g.year,O=String(g.name??g.Name??"").trim(),E=String(g.sex??g.Sex??"").trim().toUpperCase(),oe=+(g.n??g.N??g.count);if(!(!Number.isFinite(P)||!O||!Number.isFinite(oe))&&!(E!=="F"&&E!=="M"))return{year:P,name:O,sex:E,n:oe}})).filter(Boolean);const y=$r(I,g=>g.year);Number.isFinite(y[0])&&Number.isFinite(y[1])&&(me=[y[0],2030]);const S=new Set(I.map(g=>g.name));kt=Array.from(S).sort();const Y=new Map;I.forEach(g=>{Y.set(g.name,(Y.get(g.name)||0)+g.n)}),nt=Array.from(Y.entries()).sort((g,P)=>P[1]-g[1]).slice(0,1e3).map(([g])=>g),I.forEach(g=>{Ct.set(g.year,(Ct.get(g.year)||0)+g.n)});const U=new Map;I.forEach(g=>{U.has(g.year)||U.set(g.year,new Map);const P=U.get(g.year),O=`${g.name}|${g.sex}`;P.set(O,(P.get(O)||0)+g.n)}),U.forEach((g,P)=>{const O=Array.from(g.entries()).map(([E,oe])=>{const[Ke,Ce]=E.split("|");return{name:Ke,sex:Ce,count:oe}}).sort((E,oe)=>oe.count-E.count);St.set(P,O)}),da(),Dt()});function da(){Rt=Ua(fe).append("svg"),Rt.append("defs").append("clipPath").attr("id","chart-clip").append("rect"),Ne=Rt.append("g").attr("class","chart").append("g").attr("class","inner"),ea=Ne.append("g").attr("class","grid-y"),ot=Ne.append("g").attr("class","axis x"),Tt=Ne.append("g").attr("class","axis y"),Et=Ne.append("g").attr("class","line").attr("clip-path","url(#chart-clip)"),Xe=Ne.append("g").attr("class","wrong-line").style("display","none").attr("clip-path","url(#chart-clip)"),Ve=Ne.append("g").attr("class","hover"),Ye=Ve.append("line").attr("stroke","#6B46C1").attr("stroke-width",1).attr("stroke-dasharray","4 4").attr("opacity",.6).style("display","none"),mt=Ve.append("circle").attr("r",5).attr("fill","#6B46C1").attr("stroke","white").attr("stroke-width",2).style("display","none"),Wt=Ve.append("rect").attr("class","hover-rect").attr("fill","transparent"),He=Er(),lt=jr(),Be=Ar().x(y=>He(y.date)).y(y=>lt(y.count)).curve(Pr)}function Dt(){if(!I.length)return;const p=Math.max(0,e(ze)),y=s(),S=Math.max(0,p-e(We).left-e(We).right),Y=Math.max(0,y-e(We).top-e(We).bottom);Rt.attr("width",p).attr("height",y),Ua(fe).select(".inner").attr("transform",`translate(${e(We).left},${e(We).top})`),Rt.select("#chart-clip rect").attr("width",S).attr("height",Y);const U=(e($)??"").trim().toLowerCase(),g=I.filter(h=>h.name.toLowerCase()===U&&(e(te)==="All"||h.sex===e(te))),P=new Map;g.forEach(h=>{P.set(h.year,(P.get(h.year)??0)+h.n)});const O=[],E=ka(I,h=>h.year);for(let h=me[0];h<=Math.min(me[1],E);h++){const J=P.get(h)??0,N=e(ie)==="proportion"?J/(Ct.get(h)||1)*100:J;O.push({date:new Date(h,0,1),count:N,rawCount:J})}const oe=new Date(e(Ie),0,1),Ke=new Date(me[1],0,1);He.domain([oe,Ke]).range([0,S]),lt.domain([0,Math.max(1,ka(O,h=>h.count)??1)]).nice().range([Y,0]);const Ce=e(ze)<600,W=Ce?20:10,Se=Math.ceil(e(Ie)/W)*W,q=Math.floor(ka(O,h=>h.date.getFullYear())/W)*W,Ht=Oa(Se,q+1,W).map(h=>new Date(h,0,1)),Yt=Ce?[]:Oa(Se-5,q+6,5).filter(h=>h>=e(Ie)).map(h=>new Date(h,0,1));ot.attr("transform",`translate(0,${Y})`).call(Mr(He).tickValues(Ht).tickFormat(h=>h.getFullYear())).call(h=>{h.selectAll(".minor-tick").remove(),Yt.forEach(J=>{const N=He(J);N>=0&&N<=S&&!Ht.some(ye=>ye.getTime()===J.getTime())&&h.append("line").attr("x1",N).attr("x2",N).attr("y1",0).attr("y2",4).attr("stroke","#555").attr("class","minor-tick")})}).selectAll("text").attr("class","axis-label").style("font-family","Baloo Bhai 2, -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif").style("font-size","16px").attr("font-family","Baloo Bhai 2, -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif").attr("font-size","16px"),Tt.call(Ga(lt).ticks(5).tickFormat(h=>ht(h,!0))).selectAll("text").attr("class","axis-label").style("font-family","Baloo Bhai 2, -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif").style("font-size","16px").attr("font-family","Baloo Bhai 2, -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif").attr("font-size","16px"),ea.call(Ga(lt).ticks(5).tickSize(-S).tickFormat(()=>"")).call(h=>h.select(".domain").remove()).call(h=>h.selectAll(".tick line").attr("stroke","#999").attr("stroke-dasharray","2 4").attr("opacity",.35)),Et.selectAll("path").data([O]).join(h=>h.append("path").attr("fill","none").attr("stroke","#6B46C1").attr("stroke-width",1.8).attr("d",Be),h=>h.attr("d",Be)),Wt.attr("width",S).attr("height",Y).on("mousemove",h=>{const[J]=Fr(h),ye=He.invert(J).getFullYear(),ve=O.find(D=>D.date.getFullYear()===ye);if(ve){const D=He(ve.date),Oe=lt(ve.count);Ye.attr("x1",D).attr("y1",Oe).attr("x2",D).attr("y2",Y).style("display",null),mt.attr("cx",D).attr("cy",Oe).style("display",null);const Pe=St.get(ye)||[];let Me=0;if(e(te)==="All"){const de=new Map;Pe.forEach(K=>{const pe=K.name;de.set(pe,(de.get(pe)||0)+K.count)}),Me=Array.from(de.entries()).sort((K,pe)=>pe[1]-K[1]).findIndex(([K])=>K===e($))+1}else{const de=Pe.filter(le=>le.sex===e(te));Me=de.findIndex(le=>le.name===e($))+1,e($)==="Emma"&&ye===2024&&e(te)==="F"&&(console.log("Top 10 for Female 2024:",de.slice(0,10).map((le,K)=>`${K+1}. ${le.name} (${le.count})`)),console.log("Emma rank:",Me))}n(he,{show:!0,x:h.clientX,y:h.clientY,year:ve.date.getFullYear(),count:e(ie)==="proportion"?ve.count:ve.rawCount||ve.count,rank:Me},!0)}}).on("mouseleave",()=>{Ye.style("display","none"),mt.style("display","none"),n(he,{show:!1,x:0,y:0,year:0,count:0,rank:0},!0)})}function qt(p){if(n(qe,p.target.value,!0),C()&&e(ne)&&n(ne,!1),e(qe).trim().length>0){const y=e(qe).toLowerCase();n(Gt,kt.filter(S=>S.toLowerCase().startsWith(y)).slice(0,20),!0),n(rt,e(Gt).length>0),n(dt,-1)}else n(rt,!1)}function $t(p){n($,p,!0),n(qe,p,!0),n(rt,!1),n(dt,-1)}function pa(){setTimeout(()=>{n(rt,!1),kt.some(p=>p.toLowerCase()===e(qe).toLowerCase())&&n($,kt.find(p=>p.toLowerCase()===e(qe).toLowerCase()),!0)},200)}function k(){return!e(ce)||e(L)===0?"":e(se).substring(0,e(L)).toUpperCase()}function T(){if(nt.length===0)return;const p=nt[Math.floor(Math.random()*nt.length)];n($,p,!0),n(qe,p,!0),n(se,p,!0),n(V,!0),n(rt,!1),n(ce,!0),n(L,1)}function xe(p){if(n(we,p.target.value,!0),e(we).trim().length>0){const y=e(we).toLowerCase();n(Qt,kt.filter(S=>S.toLowerCase().startsWith(y)).slice(0,20),!0),n(ft,e(Qt).length>0),n(Zt,-1)}else n(ft,!1)}function Ae(p){n(we,p,!0),n(ft,!1),n(Zt,-1)}function gt(){setTimeout(()=>{n(ft,!1)},200)}function Je(){if(e(we).trim())if(e(we).toLowerCase().trim()===e(se).toLowerCase().trim())n(pt,!0),n(st,!0),document.fullscreenElement?(n(M,!0),setTimeout(()=>{n(M,!1)},5e3)):lr({particleCount:150,spread:90,origin:{y:.6}}),setTimeout(()=>{n(V,!1),n(se,""),n(we,""),n(st,!1),n(pt,!1)},3e3);else{n(pt,!1),n(st,!0),n(b,e(we),!0),n(z,!0);let p=0;const y=setInterval(()=>{n(z,!e(z)),p++,p>=12&&(clearInterval(y),n(z,!1),n(b,""))},250);setTimeout(()=>{n(st,!1)},2e3)}}ca(()=>{if(!e(z)||!e(b)||!I.length){Xe==null||Xe.style("display","none");return}const p=Math.max(0,e(ze)),y=s();Math.max(0,p-e(We).left-e(We).right),Math.max(0,y-e(We).top-e(We).bottom);const S=(e(b)??"").trim().toLowerCase(),Y=I.filter(E=>E.name.toLowerCase()===S&&(e(te)==="All"||E.sex===e(te))),U=new Map;Y.forEach(E=>{U.set(E.year,(U.get(E.year)??0)+E.n)});const g=[],P=ka(I,E=>E.year);for(let E=me[0];E<=Math.min(me[1],P);E++){const oe=U.get(E)??0,Ke=e(ie)==="proportion"?oe/(Ct.get(E)||1)*100:oe;g.push({date:new Date(E,0,1),count:Ke,rawCount:oe})}Xe.style("display",null),Xe.selectAll("path").data([g]).join(E=>E.append("path").attr("fill","none").attr("stroke","#f44336").attr("stroke-width",3).attr("d",Be),E=>E.attr("d",Be))}),ca(()=>{e(ze),e($),e(te),e(ie),e(Ie),I.length&&Dt()});function ue(){document.fullscreenElement?(document.exitFullscreen(),n(It,!1)):(Q==null||Q.requestFullscreen(),n(It,!0))}ca(()=>{const p=()=>{n(It,!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",p),()=>{document.removeEventListener("fullscreenchange",p)}});function Ee(){e(A).trim()&&e(R).length<6&&(n(R,[...e(R),e(A).trim()],!0),n(A,""))}function ae(p){n(R,e(R).filter((y,S)=>S!==p),!0)}async function Z(){if(Q)try{await document.fonts.ready;const p=Q.querySelector(".screenshot-btn"),y=Q.querySelector(".controls"),S=Q.querySelector(".guess-options"),Y=Q.querySelectorAll(".tooltip"),U=Q.querySelector(".wrong-message"),g=Q.querySelector(".correct-message"),P=Q.querySelector(".screenshot-footer");p&&(p.style.display="none"),y&&(y.style.display="none"),S&&(S.style.display="none"),Y.forEach(q=>q.style.display="none"),U&&(U.style.display="none"),g&&(g.style.display="none"),P&&(P.style.display="block");const O=Q.style.padding;Q.style.padding="40px",Q.querySelectorAll(".chart-title").forEach(q=>{q.style.fontFamily='"Bowlby One SC", -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif'}),Q.querySelectorAll("text").forEach(q=>{q.style.fontFamily='"Baloo Bhai 2", -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif',q.setAttribute("font-family","Baloo Bhai 2, -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif")}),Q.querySelectorAll(".footer-text").forEach(q=>{q.style.fontFamily='"Baloo Bhai 2", -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif'}),await new Promise(q=>setTimeout(q,300));const Ce=await Ps(Q,{backgroundColor:"#ffffff",pixelRatio:2,cacheBust:!0,skipFonts:!1,style:{"font-family":'"Baloo Bhai 2", -apple-system, BlinkMacSystemFont, Helvetica, Arial, sans-serif'}});p&&(p.style.display=""),y&&(y.style.display=""),S&&(S.style.display=""),Y.forEach(q=>q.style.display=""),U&&(U.style.display=""),g&&(g.style.display=""),P&&(P.style.display=""),Q.style.padding=O;const W=document.createElement("a"),Se=e(V)?"mystery-name":e($);W.download=`${Se}-baby-name-trend-chart.png`,W.href=URL.createObjectURL(Ce),W.click(),setTimeout(()=>URL.revokeObjectURL(W.href),100)}catch(p){console.error("Failed to capture screenshot:",p)}}var ge=Cn(),it=u(ge);{var _t=p=>{var y=Hs();m(p,y)};x(it,p=>{e(M)&&p(_t)})}var Ue=d(it,2),ke=u(Ue),B=u(ke);c(ke);var jt=d(ke,2);{var fa=p=>{var y=Bs();y.__click=Z,m(p,y)};x(jt,p=>{!f()&&!C()&&p(fa)})}c(Ue),ya(Ue,p=>Re=p,()=>Re);var _e=d(Ue,2);{var ct=p=>{var y=Is(),S=d(u(y),2);ua(S,21,()=>f()?X():e(R),va,(Y,U,g)=>{var P=Gs(),O=De(P);O.__click=[Us,we,U,Je];var E=u(O,!0);c(O);var oe=d(O,2);{var Ke=Ce=>{var W=Os();m(Ce,W)};x(oe,Ce=>{g<(f()?X():e(R)).length-1&&Ce(Ke)})}F(()=>j(E,e(U))),m(Y,P)}),c(S),c(y),m(p,y)};x(_e,p=>{e(V)&&(f()?X().length>0:e(R).length>0)&&p(ct)})}var yt=d(_e,2),bt=u(yt);{var Nt=p=>{var y=Ws();m(p,y)};x(bt,p=>{e(V)&&e(st)&&!e(pt)&&p(Nt)})}var Vt=d(bt,2);{var ut=p=>{var y=qs(),S=u(y);c(y),F(()=>j(S,`🎉 Correct! It's ${e(se)??""}! 🎉`)),m(p,y)};x(Vt,p=>{e(V)&&e(st)&&e(pt)&&p(ut)})}var vt=d(Vt,2);ya(vt,p=>fe=p,()=>fe);var ta=d(vt,4);{var Aa=p=>{var y=Xs(),S=u(y),Y=u(S,!0);c(S);var U=d(S,2),g=u(U,!0);c(U);var P=d(U,2),O=u(P);{var E=W=>{var Se=Ns(),q=De(Se),Ht=d(q,2);F(Yt=>{j(q,`${Yt??""} of U.S. babies`),j(Ht,`named ${(e(V)?"???":e($))??""}`)},[()=>ht(e(he).count)]),m(W,Se)},oe=W=>{var Se=Vs(),q=De(Se),Ht=d(q,2);F(Yt=>{j(q,`${Yt??""} U.S. babies`),j(Ht,`named ${(e(V)?"???":e($))??""}`)},[()=>ht(e(he).count)]),m(W,Se)};x(O,W=>{e(ie)==="proportion"?W(E):W(oe,!1)})}c(P);var Ke=d(P,2);{var Ce=W=>{var Se=Ys(),q=u(Se,!0);c(Se),F(()=>j(q,e(he).rank<=1e3?`#${e(he).rank} Most Popular Name`:"Outside top 1000")),m(W,Se)};x(Ke,W=>{e(he).rank>0&&W(Ce)})}c(y),F(()=>{Dr(y,`left: ${e(he).x+10}px; top: ${e(he).y-10}px;`),j(Y,e(he).year),j(g,e(V)?"???":e($))}),m(p,y)};x(ta,p=>{e(he).show&&p(Aa)})}c(yt);var gr=d(yt,2);{var _r=p=>{var y=kn(),S=u(y),Y=u(S),U=u(Y);c(Y);var g=d(Y,2);Ft(g),c(S);var P=d(S,2);let O;var E=u(P);{var oe=ee=>{var h=Ta();const J=be(()=>f()&&re()>0||e(ce)&&e(L)>0);var N=De(h);{var ye=D=>{var Oe=Ks(),Pe=De(Oe),Me=u(Pe);c(Pe);var de=d(Pe,2);{var le=K=>{var pe=Js();pe.__click=[Ls,L,se],m(K,pe)};x(de,K=>{!f()&&e(L)<e(se).length&&K(le)})}F(K=>j(Me,`GUESS MODE - NAME STARTS WITH "${K??""}"`),[()=>f()?e(se).substring(0,re()).toUpperCase():k()]),m(D,Oe)},ve=D=>{var Oe=Qs();m(D,Oe)};x(N,D=>{e(J)?D(ye):D(ve,!1)})}m(ee,h)},Ke=ee=>{var h=Zs(),J=u(h);c(h),F(N=>j(J,`SEARCH MODE FOR ${N??""}`),[()=>e($).toUpperCase()]),m(ee,h)};x(E,ee=>{e(V)?ee(oe):ee(Ke,!1)})}c(P);var Ce=d(P,2),W=u(Ce);{var Se=ee=>{var h=rn(),J=De(h),N=u(J);Ft(N),N.__input=qt,N.__keydown=[Ms,rt,dt,Gt,$t];var ye=d(N,2);{var ve=Pe=>{var Me=an();ua(Me,21,()=>e(Gt),va,(de,le,K)=>{var pe=tn();pe.__mousedown=[en,$t,le];let aa;var At=u(pe,!0);c(pe),F(ra=>{aa=Te(pe,1,"svelte-1n4rpba",null,aa,ra),j(At,e(le))},[()=>({selected:K===e(dt)})]),m(de,pe)}),c(Me),m(Pe,Me)};x(ye,Pe=>{e(rt)&&Pe(ve)})}c(J);var D=d(J,2);D.__click=[Fs,se,$,V,we,xt,ce,L,ne];var Oe=d(D,2);Oe.__click=T,F(()=>qa(N,e(qe))),Ba("blur",N,pa),m(ee,h)},q=(ee,h)=>{{var J=N=>{var ye=ln(),ve=De(ye),D=u(ve);Ft(D),D.__input=xe,D.__keydown=[$s,ft,Zt,Qt,Ae,Je];var Oe=d(D,2);{var Pe=de=>{var le=on();ua(le,21,()=>e(Qt),va,(K,pe,aa)=>{var At=nn();At.__mousedown=[sn,Ae,pe];let ra;var Pa=u(At,!0);c(At),F(je=>{ra=Te(At,1,"svelte-1n4rpba",null,ra,je),j(Pa,e(pe))},[()=>({selected:aa===e(Zt)})]),m(K,At)}),c(le),m(de,le)};x(Oe,de=>{e(ft)&&de(Pe)})}c(ve);var Me=d(ve,2);Me.__click=Je,F(()=>qa(D,e(we))),Ba("blur",D,gt),m(N,ye)};x(ee,N=>{C()||N(J)},h)}};x(W,ee=>{!e(V)&&!f()?ee(Se):ee(q,!1)})}c(Ce);var Ht=d(Ce,2);{var Yt=ee=>{var h=xn(),J=De(h);let N;var ye=u(J);let ve;var D=u(ye);D.__click=[cn,G];var Oe=u(D);c(D);var Pe=d(D,2);{var Me=je=>{var Fe=fn(),Qe=u(Fe),Ze=u(Qe);Ft(Ze),Ze.__keydown=[un,Ee];var Pt=d(Ze,2);Pt.__click=Ee,c(Qe);var Bt=d(Qe,2);{var Xt=Le=>{var Ut=dn();ua(Ut,21,()=>e(R),va,(ma,za,xa)=>{var oa=vn(),ha=u(oa),ga=d(ha);ga.__click=()=>ae(xa),c(oa),F(()=>j(ha,`${e(za)??""} `)),m(ma,oa)}),c(Ut),m(Le,Ut)};x(Bt,Le=>{e(R).length>0&&Le(Xt)})}var sa=d(Bt,2);{var na=Le=>{var Ut=pn();m(Le,Ut)};x(sa,Le=>{e(R).length>=6&&Le(na)})}c(Fe),F(Le=>Pt.disabled=Le,[()=>e(R).length>=6||!e(A).trim()]),Kt(Ze,()=>e(A),Le=>n(A,Le)),m(je,Fe)};x(Pe,je=>{e(G)&&je(Me)})}c(ye);var de=d(ye,2);let le;var K=u(de);K.__click=[mn,H];var pe=u(K);c(K);var aa=d(K,2);{var At=je=>{var Fe=wn(),Qe=u(Fe),Ze=u(Qe),Pt=u(Ze);Pt.__click=[hn,te];let Bt;var Xt=d(Pt,2);Xt.__click=[gn,te];let sa;var na=d(Xt,2);na.__click=[_n,te];let Le;c(Ze);var Ut=d(Ze,4),ma=u(Ut);ma.__click=[yn,ie];let za;var xa=d(ma,2);xa.__click=[bn,ie];let oa;c(Ut),c(Qe);var ha=d(Qe,2),ga=u(ha);ga.__click=ue;var yr=u(ga,!0);c(ga),c(ha),c(Fe),F((br,wr,zr,xr,kr)=>{Bt=Te(Pt,1,"svelte-1n4rpba",null,Bt,br),sa=Te(Xt,1,"svelte-1n4rpba",null,sa,wr),Le=Te(na,1,"svelte-1n4rpba",null,Le,zr),za=Te(ma,1,"svelte-1n4rpba",null,za,xr),oa=Te(xa,1,"svelte-1n4rpba",null,oa,kr),j(yr,e(It)?"Exit Fullscreen":"Fullscreen")},[()=>({active:e(te)==="All"}),()=>({active:e(te)==="F"}),()=>({active:e(te)==="M"}),()=>({active:e(ie)==="raw"}),()=>({active:e(ie)==="proportion"})]),m(je,Fe)};x(aa,je=>{e(H)&&je(At)})}c(de),c(J);var ra=d(J,2);{var Pa=je=>{var Fe=zn();let Qe;var Ze=u(Fe);let Pt;var Bt=u(Ze);Bt.__click=[Ts,M,V,ne,C,se,we,qe,ft,rt,xt,st,pt];var Xt=d(Bt,2);Xt.__click=[Ds,C,V,se,$,o,qe,we,ft,rt,xt,st,pt,ce,L,ne],c(Ze),c(Fe),F((sa,na)=>{Qe=Te(Fe,1,"row-controls buttons-row svelte-1n4rpba",null,Qe,sa),Pt=Te(Ze,1,"reveal-reset-group svelte-1n4rpba",null,Pt,na)},[()=>({"host-mode":C()}),()=>({"host-mode":C()})]),m(je,Fe)};x(ra,je=>{e(V)&&!f()&&je(Pa)})}F((je,Fe,Qe)=>{N=Te(J,1,"settings-row svelte-1n4rpba",null,N,je),ve=Te(ye,1,"name-options-section svelte-1n4rpba",null,ve,Fe),j(Oe,`${e(G)?"−":"+"} Add Name Options ${e(R).length>0?`(${e(R).length})`:""}`),le=Te(de,1,"chart-controls-section svelte-1n4rpba",null,le,Qe),j(pe,`${e(H)?"−":"+"} Chart Controls`)},[()=>({"host-mode":C()}),()=>({"host-mode":C()}),()=>({"host-mode":C()})]),m(ee,h)};x(Ht,ee=>{f()||ee(Yt)})}c(y),F(ee=>{j(U,`Start Year: ${e(Ie)??""}`),Mt(g,"step",e(ba)),O=Te(P,1,"mode-indicator svelte-1n4rpba",null,O,ee)},[()=>({"guess-mode":e(V),"search-mode":!e(V)})]),Kt(g,()=>e(Ie),ee=>n(Ie,ee)),m(p,y)};x(gr,p=>{(i()===!0||i()==="true")&&p(_r)})}c(ge),ya(ge,p=>Q=p,()=>Q),F(()=>j(B,`Guess this name: ${(e(V)?"???":e($))??""}`)),Lr(vt,"clientWidth",p=>n(ze,p)),m(t,ge),nr()}rr(["click","input","keydown","mousedown"]);async function tr(t,a,r){try{console.log("[copyRoomCode] Copying room code:",e(a)),await navigator.clipboard.writeText(e(a)),n(r,"Copied!"),setTimeout(()=>{n(r,"Copy")},2e3)}catch(s){console.error("Failed to copy:",s)}}async function ar(t,a,r){try{const s=a();console.log("[copyShareableLink] Copying link:",s),await navigator.clipboard.writeText(s),n(r,"Link Copied!"),setTimeout(()=>{n(r,"Copy Link")},2e3)}catch(s){console.error("Failed to copy link:",s)}}var Sn=_(`<div class="multiplayer-menu svelte-1j10ozz"><h2 class="svelte-1j10ozz">What's That Baby Name?</h2> <div class="menu-section svelte-1j10ozz"><h3 class="svelte-1j10ozz">Enter Your Name</h3> <input type="text" placeholder="Your name" class="name-input svelte-1j10ozz"></div> <div class="menu-section svelte-1j10ozz"><h3 class="svelte-1j10ozz">Join a Game</h3> <input type="text" placeholder="Enter room code" class="room-code-input svelte-1j10ozz"> <button class="join-btn svelte-1j10ozz">Join Game</button></div> <div class="menu-section svelte-1j10ozz"><h3 class="svelte-1j10ozz">Create a New Game</h3> <button class="create-btn svelte-1j10ozz">Create New Game</button></div> <div class="multiplayer-footer svelte-1j10ozz"><p class="svelte-1j10ozz"><a target="_blank" class="svelte-1j10ozz">What's That Baby Name?</a> by Melanie
				Walsh. <a target="_blank" class="svelte-1j10ozz">Read the backstory.</a></p></div></div>`),Rn=Ea('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1j10ozz"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12l5 5l10 -10"></path></svg>'),En=Ea('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1j10ozz"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="8" y="8" width="12" height="12" rx="2"></rect><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path></svg>'),jn=_('<span class="host-badge svelte-1j10ozz">Host</span>'),An=_('<span class="correct-indicator svelte-1j10ozz">✓</span>'),Pn=_('<span class="player-score svelte-1j10ozz"> </span> <!>',1),Mn=_('<li class="player-item svelte-1j10ozz"><span class="player-name svelte-1j10ozz"> </span> <!></li>'),Fn=(t,a,r)=>a({maxAttempts:e(r)}),Ln=(t,a,r)=>a({correctPoints:e(r)}),Tn=(t,a,r)=>a({incorrectPoints:e(r)}),Dn=_(`<div class="game-container svelte-1j10ozz"><div class="player-identity svelte-1j10ozz"><p class="svelte-1j10ozz">You are <strong class="svelte-1j10ozz"> </strong> (Host)</p></div> <div class="game-header svelte-1j10ozz"><h2>Room Code: <span class="room-code svelte-1j10ozz"> </span> <button class="copy-icon svelte-1j10ozz"><!></button></h2> <div class="header-actions svelte-1j10ozz"><button class="share-link-btn svelte-1j10ozz"> </button> <button class="leave-btn svelte-1j10ozz">Leave Room</button></div></div> <div class="players-panel svelte-1j10ozz"><h3 class="svelte-1j10ozz"> </h3> <ul class="players-list svelte-1j10ozz"></ul></div> <div class="game-settings svelte-1j10ozz"><h3 class="svelte-1j10ozz">Game Settings</h3> <div class="settings-row svelte-1j10ozz"><label class="svelte-1j10ozz"><span class="svelte-1j10ozz">Max Attempts:</span> <input type="number" min="1" max="10" class="settings-input svelte-1j10ozz"></label> <label class="svelte-1j10ozz"><span class="svelte-1j10ozz">Points for Correct:</span> <input type="number" min="0" max="10" class="settings-input svelte-1j10ozz"></label> <label class="svelte-1j10ozz"><span class="svelte-1j10ozz">Points for Incorrect:</span> <input type="number" min="-5" max="5" class="settings-input svelte-1j10ozz"></label></div></div> <div class="game-area svelte-1j10ozz"><!></div> <div class="host-controls svelte-1j10ozz"><p class="hint svelte-1j10ozz">Use the chart controls above to set up the game. When ready, click "Hide
				Name & Play" to start the round.</p></div> <div class="multiplayer-footer svelte-1j10ozz"><p class="svelte-1j10ozz"><a target="_blank" class="svelte-1j10ozz">What's That Baby Name?</a> by Melanie
				Walsh. <a target="_blank" class="svelte-1j10ozz">Read the backstory.</a></p></div></div>`),$n=Ea('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1j10ozz"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12l5 5l10 -10"></path></svg>'),Hn=Ea('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1j10ozz"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="8" y="8" width="12" height="12" rx="2"></rect><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path></svg>'),Bn=_('<span class="host-badge svelte-1j10ozz">Host</span>'),Un=_('<span class="correct-indicator svelte-1j10ozz">✓</span>'),On=_('<span class="player-score svelte-1j10ozz"> </span> <!>',1),Gn=_('<li class="player-item svelte-1j10ozz"><span class="player-name svelte-1j10ozz"> </span> <!></li>'),In=_('<h3 style="color: #4caf50;" class="svelte-1j10ozz">✓ Correct!</h3> <p class="svelte-1j10ozz">You got it right!</p> <p class="svelte-1j10ozz">Waiting for the host to start a new round...</p>',1),Wn=_('<h3 class="svelte-1j10ozz">No Attempts Remaining</h3> <p class="svelte-1j10ozz"> </p> <p class="svelte-1j10ozz">Waiting for the host to start a new round...</p>',1),qn=_('<div class="attempts-overlay svelte-1j10ozz"><div class="overlay-message svelte-1j10ozz"><!></div></div>'),Nn=_('<div class="revealed-overlay svelte-1j10ozz"><div class="overlay-message svelte-1j10ozz"><h3 style="color: #6b46c1;" class="svelte-1j10ozz">Answer Revealed!</h3> <p class="svelte-1j10ozz">The answer was <strong> </strong></p> <p class="svelte-1j10ozz">Waiting for the host to start a new round...</p></div></div>'),Vn=_("<div><!> <!></div>"),Yn=_('<div class="waiting-message svelte-1j10ozz"><h3 class="svelte-1j10ozz">Loading...</h3> <p class="svelte-1j10ozz">Connecting to game...</p></div>'),Xn=_('<div class="waiting-message svelte-1j10ozz"><h3 class="svelte-1j10ozz">Game Setup in Progress...</h3> <p class="svelte-1j10ozz">Waiting for the host to start the game</p></div>'),Jn=_('<p class="max-attempts-reached svelte-1j10ozz">No attempts remaining</p>'),Kn=_('<p class="result-correct svelte-1j10ozz">✓ Correct!</p>'),Qn=_('<p class="result-incorrect svelte-1j10ozz">✗ Try again!</p>'),Zn=_('<p class="svelte-1j10ozz"> </p> <p class="svelte-1j10ozz"> </p> <!> <!>',1),eo=_(`<div class="game-container svelte-1j10ozz"><div class="player-identity svelte-1j10ozz"><p class="svelte-1j10ozz">You are <strong class="svelte-1j10ozz"> </strong> (Player)</p></div> <div class="game-header svelte-1j10ozz"><h2>Room Code: <span class="room-code svelte-1j10ozz"> </span> <button class="copy-icon svelte-1j10ozz"><!></button></h2> <div class="header-actions svelte-1j10ozz"><button class="share-link-btn svelte-1j10ozz"> </button> <button class="leave-btn svelte-1j10ozz">Leave Room</button></div></div> <div class="players-panel svelte-1j10ozz"><h3 class="svelte-1j10ozz"> </h3> <ul class="players-list svelte-1j10ozz"></ul></div> <div class="game-area svelte-1j10ozz"><!></div> <div class="player-status svelte-1j10ozz"><!></div> <div class="multiplayer-footer svelte-1j10ozz"><p class="svelte-1j10ozz"><a target="_blank" class="svelte-1j10ozz">What's That Baby Name?</a> by Melanie
				Walsh. <a target="_blank" class="svelte-1j10ozz">Read the backstory.</a></p></div></div>`);function co(t,a){sr(a,!0),tt(a,"id",3,"multiplayer-game");let r=w("menu"),s=w(""),o=w(""),l=w(""),v=w(""),i=w(null),f=w(zt([])),C=null,X=null,re=w(""),at=w(null),$=w(null),te=w(null),ie=w(3),Ie=w(1),Lt=w(0),ba=be(()=>e(f).slice().sort((z,b)=>{var M,R;return z.id===((M=e(i))==null?void 0:M.host)?-1:b.id===((R=e(i))==null?void 0:R.host)?1:(b.score||0)-(z.score||0)}));function We(){return Math.random().toString(36).substring(2,8).toUpperCase()}async function qe(){if(console.log("[createRoom] Function called"),console.trace("[createRoom] Call stack"),!et){alert("Firebase is not initialized. Please refresh the page.");return}if(!e(v).trim()){alert("Please enter your name");return}n(l,e(v).trim(),!0),n(s,We(),!0),console.log("[createRoom] Generated room code:",e(s)),n(re,Ia(wt(et)).key,!0);{const b=new URL(window.location.href);b.searchParams.set("room",e(s)),Na(b.pathname+b.search,{replaceState:!1,noScroll:!0,keepFocus:!0}),console.log("[createRoom] Updated URL to:",b.toString())}C=wt(et,`rooms/${e(s)}`),await Fa(C,{host:e(re),hostName:e(l),hiddenName:"",isHidden:!1,nameOptions:[],lettersRevealed:0,isRevealed:!1,createdAt:Date.now(),gameStarted:!1,maxAttempts:e(ie),correctPoints:e(Ie),incorrectPoints:e(Lt)});const z=wt(et,`rooms/${e(s)}/players/${e(re)}`);await Fa(z,{name:e(l),score:0,lastGuess:"",isCorrect:!1,attemptCount:0,joinedAt:Date.now()}),n(r,"host"),Gt()}async function rt(){if(!et){alert("Firebase is not initialized. Please refresh the page.");return}if(!e(v).trim()){alert("Please enter your name");return}if(!e(o).trim()){alert("Please enter a room code");return}n(l,e(v).trim(),!0),n(s,e(o).trim().toUpperCase(),!0),n(re,Ia(wt(et)).key,!0);{const b=new URL(window.location.href);b.searchParams.set("room",e(s)),Na(b.pathname+b.search,{replaceState:!1,noScroll:!0,keepFocus:!0}),console.log("[joinRoom] Updated URL to:",b.toString())}C=wt(et,`rooms/${e(s)}`);const z=wt(et,`rooms/${e(s)}/players/${e(re)}`);await Fa(z,{name:e(l),score:0,lastGuess:"",isCorrect:!1,attemptCount:0,joinedAt:Date.now()}),n(r,"player"),Gt()}function Gt(){C=wt(et,`rooms/${e(s)}`),Wa(C,z=>{z.exists()&&n(i,z.val(),!0)}),X=wt(et,`rooms/${e(s)}/players`),Wa(X,z=>{if(z.exists()){const b=z.val();n(f,Object.entries(b).map(([M,R])=>({id:M,...R})),!0)}})}async function dt(z){e(r)==="host"&&C&&await Ma(C,z)}let It=w(!1);function Q(z){if(console.log("[handleDotPlotStateChange] Received state:",z),e(r)==="host"&&e(i)){const{name:b,isHidden:M,nameOptions:R,lettersRevealed:G,isRevealed:A}=z;e(i).isHidden!==M||e(i).hiddenName!==b||JSON.stringify(e(i).nameOptions||[])!==JSON.stringify(R||[])||e(i).lettersRevealed!==G||e(i).isRevealed!==A?(console.log("[handleDotPlotStateChange] State changed, updating Firebase"),!e(It)&&M?(console.log("[handleDotPlotStateChange] New round starting, resetting attempts"),wa().then(()=>{dt({isHidden:M,hiddenName:b,nameOptions:R||[],lettersRevealed:G,isRevealed:A})})):dt({isHidden:M,hiddenName:b,nameOptions:R||[],lettersRevealed:G,isRevealed:A}),n(It,M,!0)):console.log("[handleDotPlotStateChange] No state change")}}ca(()=>{console.log("[ROOM CODE CHANGED]",e(s)),console.trace("[ROOM CODE CHANGED] Stack trace")});async function wa(){if(e(r)==="host"&&e(f).length>0){console.log("[DotPlotMultiplayer] Resetting all players attempt counts for",e(f).length,"players");const z=e(f).map(b=>{const M=wt(et,`rooms/${e(s)}/players/${b.id}`);return console.log("[DotPlotMultiplayer] Resetting attemptCount and isCorrect for player:",b.name),Ma(M,{attemptCount:0,isCorrect:!1})});await Promise.all(z),console.log("[DotPlotMultiplayer] All attempt counts reset")}}async function V(z){if(!e(i)||!e(i).isHidden||!z.trim())return;const b=e(f).find(me=>me.id===e(re)),M=(b==null?void 0:b.attemptCount)||0,R=e(i).maxAttempts??3;if(console.log("[Attempt Check] Current attempts:",M,"Max allowed:",R),M>=R){console.log("Max attempts reached - blocking submission");return}console.log("[Submitting Guess]",z);const G=z.toLowerCase().trim(),A=e(i).hiddenName.toLowerCase().trim(),H=G===A;console.log("Guess:",G,"Answer:",A,"Correct:",H);const L=(b==null?void 0:b.score)||0,ce=e(i).correctPoints??1,ne=e(i).incorrectPoints??0,Re=H?ce:ne,fe=L+Re,ze=M+1;console.log("GameState correctPoints:",e(i).correctPoints,"incorrectPoints:",e(i).incorrectPoints),console.log("Using correctPts:",ce,"incorrectPts:",ne),console.log("Current score:",L,"Points to add:",Re,"New score:",fe),console.log("Attempt count:",M,"New attempt count:",ze);const I=wt(et,`rooms/${e(s)}/players/${e(re)}`);await Ma(I,{lastGuess:z,isCorrect:H,score:fe,attemptCount:ze,guessedAt:Date.now()}),n(te,H?"correct":"incorrect",!0),setTimeout(()=>{n(te,null)},2e3)}ca(()=>{var z;if(e(r)==="player"&&e($)&&((z=e(i))!=null&&z.isHidden)){const b=e($).querySelector(".submit-btn"),M=e($).querySelector(".name-input.guess-input"),R=e($).querySelectorAll(".option-chip"),G=[];if(b&&M){const A=async()=>{const H=M.value;H.trim()&&await V(H)};b.addEventListener("click",A),M.addEventListener("keydown",H=>{H.key==="Enter"&&A()}),G.push({el:b,event:"click",handler:A})}return R.length>0&&R.forEach(A=>{const H=async()=>{const L=A.textContent.trim();L&&await V(L)};A.addEventListener("click",H),G.push({el:A,event:"click",handler:H})}),()=>{G.forEach(({el:A,event:H,handler:L})=>{A.removeEventListener(H,L)})}}});let se=w("Copy");function we(){if(e(s)){const z=new URL(window.location.href);z.searchParams.set("room",e(s));const b=z.toString();return console.log("[getShareableLink] Room code:",e(s),"Link:",b),b}return""}let xt=w("Copy Link");function st(){C&&Ca(C),X&&Ca(X),n(r,"menu"),n(s,""),n(o,""),n(i,null),n(f,[],!0),n(se,"Copy"),n(xt,"Copy Link")}or(()=>{{const b=new URLSearchParams(window.location.search).get("room");b&&n(o,b.toUpperCase(),!0)}}),Sr(()=>{C&&Ca(C),X&&Ca(X)});var pt=Ta(),Qt=De(pt);{var ft=z=>{var b=Sn(),M=d(u(b),2),R=d(u(M),2);Ft(R),c(M);var G=d(M,2),A=d(u(G),2);Ft(A);var H=d(A,2);H.__click=rt,c(G);var L=d(G,2),ce=d(u(L),2);ce.__click=qe,c(L);var ne=d(L,2),Re=u(ne),fe=u(Re);Mt(fe,"href",`${Jt??""}/`);var ze=d(fe,2);Mt(ze,"href",`${Jt??""}/#origin-story`),c(Re),c(ne),c(b),Kt(R,()=>e(v),I=>n(v,I)),Kt(A,()=>e(o),I=>n(o,I)),m(z,b)},Zt=(z,b)=>{{var M=G=>{var A=Dn(),H=u(A),L=u(H),ce=d(u(L)),ne=u(ce,!0);c(ce),_a(),c(L),c(H);var Re=d(H,2),fe=u(Re),ze=d(u(fe)),I=u(ze,!0);c(ze);var me=d(ze,2);me.__click=[tr,s,se];var he=u(me);{var kt=k=>{var T=Rn();m(k,T)},nt=k=>{var T=En();m(k,T)};x(he,k=>{e(se)==="Copied!"?k(kt):k(nt,!1)})}c(me),c(fe);var Ct=d(fe,2),St=u(Ct);St.__click=[ar,we,xt];var Rt=u(St,!0);c(St);var Ne=d(St,2);Ne.__click=st,c(Ct),c(Re);var ot=d(Re,2),Tt=u(ot),ea=u(Tt);c(Tt);var Et=d(Tt,2);ua(Et,21,()=>e(ba),va,(k,T)=>{var xe=Mn(),Ae=u(xe),gt=u(Ae,!0);c(Ae);var Je=d(Ae,2);{var ue=ae=>{var Z=jn();m(ae,Z)},Ee=ae=>{var Z=Pn(),ge=De(Z),it=u(ge,!0);c(ge);var _t=d(ge,2);{var Ue=ke=>{var B=An();m(ke,B)};x(_t,ke=>{e(T).isCorrect&&ke(Ue)})}F(()=>j(it,e(T).score)),m(ae,Z)};x(Je,ae=>{var Z;e(T).id===((Z=e(i))==null?void 0:Z.host)?ae(ue):ae(Ee,!1)})}c(xe),F(()=>j(gt,e(T).name)),m(k,xe)}),c(Et),c(ot);var Ve=d(ot,2),Wt=d(u(Ve),2),mt=u(Wt),Ye=d(u(mt),2);Ft(Ye),Ye.__change=[Fn,dt,ie],c(mt);var Xe=d(mt,2),He=d(u(Xe),2);Ft(He),He.__change=[Ln,dt,Ie],c(Xe);var lt=d(Xe,2),Be=d(u(lt),2);Ft(Be),Be.__change=[Tn,dt,Lt],c(lt),c(Wt),c(Ve);var ht=d(Ve,2),da=u(ht);er(da,{defaultName:"Emma",startHidden:!1,showControls:!0,startYear:1920,hostMode:!0,onStateChange:Q}),c(ht),ya(ht,k=>n(at,k),()=>e(at));var Dt=d(ht,4),qt=u(Dt),$t=u(qt);Mt($t,"href",`${Jt??""}/`);var pa=d($t,2);Mt(pa,"href",`${Jt??""}/#origin-story`),c(qt),c(Dt),c(A),F(()=>{j(ne,e(l)),j(I,e(s)),Mt(me,"title",e(se)==="Copied!"?"Copied!":"Copy to clipboard"),j(Rt,e(xt)),j(ea,`Players (${e(f).length??""})`)}),Kt(Ye,()=>e(ie),k=>n(ie,k)),Kt(He,()=>e(Ie),k=>n(Ie,k)),Kt(Be,()=>e(Lt),k=>n(Lt,k)),m(G,A)},R=(G,A)=>{{var H=L=>{var ce=eo(),ne=u(ce),Re=u(ne),fe=d(u(Re)),ze=u(fe,!0);c(fe),_a(),c(Re),c(ne);var I=d(ne,2),me=u(I),he=d(u(me)),kt=u(he,!0);c(he);var nt=d(he,2);nt.__click=[tr,s,se];var Ct=u(nt);{var St=k=>{var T=$n();m(k,T)},Rt=k=>{var T=Hn();m(k,T)};x(Ct,k=>{e(se)==="Copied!"?k(St):k(Rt,!1)})}c(nt),c(me);var Ne=d(me,2),ot=u(Ne);ot.__click=[ar,we,xt];var Tt=u(ot,!0);c(ot);var ea=d(ot,2);ea.__click=st,c(Ne),c(I);var Et=d(I,2),Ve=u(Et),Wt=u(Ve);c(Ve);var mt=d(Ve,2);ua(mt,21,()=>e(ba),va,(k,T)=>{var xe=Gn(),Ae=u(xe),gt=u(Ae,!0);c(Ae);var Je=d(Ae,2);{var ue=ae=>{var Z=Bn();m(ae,Z)},Ee=ae=>{var Z=On(),ge=De(Z),it=u(ge,!0);c(ge);var _t=d(ge,2);{var Ue=ke=>{var B=Un();m(ke,B)};x(_t,ke=>{e(T).isCorrect&&ke(Ue)})}F(()=>j(it,e(T).score)),m(ae,Z)};x(Je,ae=>{var Z;e(T).id===((Z=e(i))==null?void 0:Z.host)?ae(ue):ae(Ee,!1)})}c(xe),F(()=>j(gt,e(T).name)),m(k,xe)}),c(mt),c(Et);var Ye=d(Et,2),Xe=u(Ye);{var He=k=>{var T=Ta();const xe=be(()=>e(f).find(ue=>ue.id===e(re)));var Ae=De(T);{var gt=ue=>{var Ee=Vn();const ae=be(()=>e(xe).attemptCount||0),Z=be(()=>e(i).maxAttempts??3),ge=be(()=>e(ae)<e(Z)),it=be(()=>e(xe).isCorrect),_t=be(()=>!e(ge)||e(it));let Ue;var ke=u(Ee);Tr(ke,()=>`${e(i).hiddenName}-${e(i).isHidden}-${e(i).lettersRevealed}`,_e=>{const ct=be(()=>e(i).hiddenName||"Emma"),yt=be(()=>e(i).nameOptions||[]),bt=be(()=>e(i).lettersRevealed||0);er(_e,{get defaultName(){return e(ct)},get startHidden(){return e(i).isHidden},showControls:!0,playerMode:!0,get externalNameOptions(){return e(yt)},get externalLettersRevealed(){return e(bt)},startYear:1920})});var B=d(ke,2);{var jt=_e=>{var ct=qn(),yt=u(ct),bt=u(yt);{var Nt=ut=>{var vt=In();_a(4),m(ut,vt)},Vt=ut=>{var vt=Wn(),ta=d(De(vt),2),Aa=u(ta);c(ta),_a(2),F(()=>j(Aa,`You've used all ${e(Z)??""} attempts for this round`)),m(ut,vt)};x(bt,ut=>{e(it)?ut(Nt):ut(Vt,!1)})}c(yt),c(ct),m(_e,ct)},fa=(_e,ct)=>{{var yt=bt=>{var Nt=Nn(),Vt=u(Nt),ut=d(u(Vt),2),vt=d(u(ut)),ta=u(vt,!0);c(vt),c(ut),_a(2),c(Vt),c(Nt),F(()=>j(ta,e(i).hiddenName)),m(bt,Nt)};x(_e,bt=>{e(i).isRevealed&&bt(yt)},ct)}};x(B,_e=>{e(_t)&&e(i).isHidden?_e(jt):_e(fa,!1)})}c(Ee),F(_e=>Ue=Te(Ee,1,"chart-container svelte-1j10ozz",null,Ue,_e),[()=>({disabled:e(_t)&&e(i).isHidden})]),m(ue,Ee)},Je=ue=>{var Ee=Yn();m(ue,Ee)};x(Ae,ue=>{e(xe)?ue(gt):ue(Je,!1)})}m(k,T)},lt=k=>{var T=Xn();m(k,T)};x(Xe,k=>{e(i)&&e(i).hiddenName&&(e(i).isHidden||e(i).isRevealed)?k(He):k(lt,!1)})}c(Ye),ya(Ye,k=>n($,k),()=>e($));var Be=d(Ye,2),ht=u(Be);{var da=k=>{var T=Zn();const xe=be(()=>e(f).find(B=>B.id===e(re))),Ae=be(()=>{var B;return((B=e(xe))==null?void 0:B.attemptCount)||0}),gt=be(()=>e(i).maxAttempts??3),Je=be(()=>e(gt)-e(Ae));var ue=De(T),Ee=u(ue);c(ue);var ae=d(ue,2),Z=u(ae);c(ae);var ge=d(ae,2);{var it=B=>{var jt=Jn();m(B,jt)};x(ge,B=>{e(Je)<=0&&B(it)})}var _t=d(ge,2);{var Ue=B=>{var jt=Kn();m(B,jt)},ke=(B,jt)=>{{var fa=_e=>{var ct=Qn();m(_e,ct)};x(B,_e=>{e(te)==="incorrect"&&_e(fa)},jt)}};x(_t,B=>{e(te)==="correct"?B(Ue):B(ke,!1)})}F(()=>{var B;j(Ee,`Your score: ${(((B=e(xe))==null?void 0:B.score)||0)??""}`),j(Z,`Attempts remaining: ${e(Je)??""}/${e(gt)??""}`)}),m(k,T)};x(ht,k=>{e(i)&&k(da)})}c(Be);var Dt=d(Be,2),qt=u(Dt),$t=u(qt);Mt($t,"href",`${Jt??""}/`);var pa=d($t,2);Mt(pa,"href",`${Jt??""}/#origin-story`),c(qt),c(Dt),c(ce),F(()=>{j(ze,e(l)),j(kt,e(s)),Mt(nt,"title",e(se)==="Copied!"?"Copied!":"Copy to clipboard"),j(Tt,e(xt)),j(Wt,`Players (${e(f).length??""})`)}),m(L,ce)};x(G,L=>{e(r)==="player"&&L(H)},A)}};x(z,G=>{e(r)==="host"?G(M):G(R,!1)},b)}};x(Qt,z=>{e(r)==="menu"?z(ft):z(Zt,!1)})}m(t,pt),nr()}rr(["click","change"]);export{co as D,er as a,$r as e,Ps as t};
